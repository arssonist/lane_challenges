(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),o=a(19),l=a.n(o),n=a(10),r=a(11),c=a(13),h=a(12),d=a(14),u=a(54),m=a.n(u),p=a(17),v=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"range-slider"},this.props.text,i.a.createElement("input",{type:"range",onChange:this.props.onChange,value:this.props.value}))}}]),t}(i.a.Component),b=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("button",{onClick:this.props.onClick},this.props.text)}}]),t}(i.a.Component);var f=a(87),y=a.n(f),g=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"uploader"},i.a.createElement(y.a,{onDrop:this.props.onDrop}," Click here, or drop a file"))}}]),t}(i.a.Component),E=function(e){var t=e.handleClose,a=e.show,s=e.children,o=a?"modal display-block":"modal display-none";return i.a.createElement("div",{className:o},i.a.createElement("section",{className:"modal-main"},s,i.a.createElement("button",{onClick:t},"close")))},k=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).showModal=function(){console.log("open"),a.setState({show:!0})},a.hideModal=function(){console.log("close"),a.setState({show:!1}),console.log(a.state.show)};var s={width:300,height:250,border:50,color:[255,255,255,.6],scale:1.2,rotate:0,scaledImage:"",show:!1};return a.state=Object(p.a)({},s,{index:"",history:[Object(p.a)({},s,{title:"Initial"})]}),a.indexRef=i.a.createRef(),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"addHistory",value:function(e){var t={title:e,color:this.state.color,scale:this.state.scale,rotate:this.state.rotate},a=this.state.history.slice(0);[].push(t.title),a.push(t),this.setState({history:a})}},{key:"resetHistory",value:function(){var e=[255,255,255,.6],t=1.2,a=0,s=this.state.history.slice(0,0);this.setState({color:e,scale:t,rotate:a,history:s})}},{key:"goBackHistory",value:function(e){console.log("index",e);var t=this.state.history[e],a=t.color,s=t.scale,i=t.rotate,o=this.state.history.slice(0,e);console.log(o),this.setState({color:a,scale:s,rotate:i,history:o}),console.log(o)}},{key:"handleScale",value:function(e){this.setState(Object(p.a)({},this.state,{scale:e.target.value})),this.addHistory("Scale changed")}},{key:"handleRed",value:function(e){var t=this.state.color.slice(0);t[0]=parseInt(e.target.value),this.setState(Object(p.a)({},this.state,{color:t})),this.addHistory("Red changed")}},{key:"handleGreen",value:function(e){var t=this.state.color.slice(0);t[1]=parseInt(e.target.value),this.setState(Object(p.a)({},this.state,{color:t})),this.addHistory("Green changed")}},{key:"handleBlue",value:function(e){var t=this.state.color.slice(0);t[2]=parseInt(e.target.value),this.setState(Object(p.a)({},this.state,{color:t})),this.addHistory("Blue changed")}},{key:"handleOpacity",value:function(e){var t=this.state.color.slice(0);t[3]=parseInt(e.target.value),this.setState(Object(p.a)({},this.state,{color:t})),this.addHistory("Opacity changed")}},{key:"handleLeft",value:function(e){this.setState({rotate:this.state.rotate-90}),this.addHistory("Rotated Left")}},{key:"handleRight",value:function(e){this.setState({rotate:this.state.rotate+90}),this.addHistory("Rotated Right")}},{key:"handlePreview",value:function(e){if(this.props.uploadedFiles.length<=0)console.log("no image attached");else{var t=this.editor.getImageScaledToCanvas();console.log("canvasScaled",e),this.setState({scaledImage:t.toDataURL()}),this.showModal()}}},{key:"setEditorRef",value:function(e){e&&(this.editor=e)}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"editor"},i.a.createElement("div",{className:"image-editor-container"},i.a.createElement("div",{className:"sliders"},i.a.createElement(v,{text:"Zoom",onChange:this.handleScale.bind(this),value:this.state.scale}),i.a.createElement(v,{className:"red-color-slider",text:"Border Red",onChange:this.handleRed.bind(this),value:this.state.color[0]}),i.a.createElement(v,{className:"green-color-slider",text:"Border Green",onChange:this.handleGreen.bind(this),value:this.state.color[1]}),i.a.createElement(v,{className:"blue-color-slider",text:"Border Blue",onChange:this.handleBlue.bind(this),value:this.state.color[2]}),i.a.createElement(v,{className:"opacity-color-slider",text:"Border Opacity",onChange:this.handleOpacity.bind(this),value:this.state.color[3]})),i.a.createElement("div",{className:"buttons"},i.a.createElement(b,{className:"rotate-left",text:"Rotate Left",onClick:this.handleLeft.bind(this)}),i.a.createElement(b,{className:"rotate-right",text:"Rotate Right",onClick:this.handleRight.bind(this)}),i.a.createElement(b,{className:"preview",text:"Preview",onClick:this.handlePreview.bind(this)}),i.a.createElement(b,{className:"reset",text:"Reset",onClick:this.resetHistory.bind(this)})),i.a.createElement("div",{className:"history-container"},i.a.createElement("input",{type:"checkbox",className:"select-checkbox",id:"c1"}),i.a.createElement("label",{htmlFor:"c1",className:"select-label"},"Click to open dropdown"),i.a.createElement("div",{className:"select-wrap"},i.a.createElement("ol",{className:"select"},this.state.history.map(function(t,a){return i.a.createElement("li",{className:"history-item",key:a,value:a,onClick:e.goBackHistory.bind(e,a)},t.title)}))))),i.a.createElement(m.a,{ref:this.setEditorRef.bind(this),image:this.props.file,uploaded:this.props.uploaded,width:this.state.width,height:this.state.height,border:this.state.border,color:this.state.color,scale:parseInt(this.state.scale),className:"avatar-editor",rotate:this.state.rotate})," ",i.a.createElement(E,{show:this.state.show,handleClose:this.hideModal},i.a.createElement("img",{className:"scaledImage",src:this.state.scaledImage})))}}]),t}(i.a.Component),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={files:[],uploaded:!1},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"onDrop",value:function(e){this.setState({files:e,uploaded:!0}),console.log(this.state.files)}},{key:"render",value:function(){return i.a.createElement("div",{className:"app-container"},i.a.createElement("div",{className:"header"},i.a.createElement("h2",null,"React Image Uploader")),i.a.createElement("main",{className:"interface-container"},i.a.createElement("div",{className:"interface"},i.a.createElement(k,{file:this.state.files[0]?this.state.files[0].preview:"",uploaded:this.state.uploaded,uploadedFiles:this.state.files}),i.a.createElement(g,{onDrop:this.onDrop.bind(this)}))))}}]),t}(i.a.Component);a(184);l.a.render(i.a.createElement(O,null),document.getElementById("root"))},88:function(e,t,a){e.exports=a(186)}},[[88,2,1]]]);
//# sourceMappingURL=main.f08ee485.chunk.js.map